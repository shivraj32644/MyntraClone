var mensData = [
  {
    image_url: "image/img1.webp",
    brand: "Allen Soley",
    name: "Men's Clothes",
    size: "38,40,41,42,43",
    price: 1170,
    strikedoffprice: "2599",
    ratin:1,
    popular:2,
    new:3
  },
  {
    image_url: "image/img2.webp",
    brand: "Roadster",
    name: "MEN'S Pure Cotton Casual Shirts",
    size: "38,40,41,42,43",
    price: 579,
    strikedoffprice: "2599",
    ratin:2,
    popular:2,
    new:2
  },
  {
    image_url: "image/img3.webp",
    brand: "Roadster",
    name: "MEN'S Pure Cotton Casual Shirts",
    size: "38,40,41,42,43",
    price: 980,
    strikedoffprice: "1500",
    ratin:3,
    popular:3,
    new:3
  },
  {
    image_url: "image/img4.webp",
    brand: "Roadster",
    name: "MEN'S Pure Cotton Casual Shirts",
    size: "38,40,41,42,43",
    price: "595",
    strikedoffprice: "1000",
    ratin:41,
    popular:41,
    new:41
  },
  {
    image_url: "image/img5.webp",
    brand: "Roadster",
    name: "MEN'S Pure Cotton Casual Shirts",
    size: "38,40,41,42,43",
    price: "1200",
    strikedoffprice: "1500",
    ratin:1,
    popular:2,
    new:3
  },
  {
    image_url: "image/img6.webp",
    brand: "Allen Soley",
    name: "Men's Clothes",
    size: "38,40,41,42,43",
    price: "452",
    strikedoffprice: "850",
    ratin:1,
    popular:2,
    new:3
  },
  {
    image_url: "image/img7.webp",
    brand: "Allen Soley",
    name: "Men's Clothes",
    size: "38,40,41,42,43",
    price: "745",
    strikedoffprice: "1200",
    ratin:1,
    popular:2,
    new:3
  },
  {
    image_url: "image/img8.webp",
    brand: "Allen Soley",
    name: "Men's Clothes",
    size: "38,40,41,42,43",
    price: "2200",
    strikedoffprice: "3500",
    ratin:1,
    popular:2,
    new:3
  },
  {
    image_url: "image/img9.webp",
    brand: "Allen Soley",
    name: "Men's Clothes",
    size: "38,40,41,42,43",
    price: "5440",
    strikedoffprice: "6510",
    ratin:1,
    popular:2,
    new:3
  },
  {
    image_url: "image/img10.webp",
    brand: "Allen Soley",
    name: "Men's Clothes",
    size: "38,40,41,42,43",
    price: "6450",
    strikedoffprice: "8000",
    ratin:1,
    popular:2,
    new:3
  },
  {
    image_url: "image/img11.webp",
    brand: "HIGHLANDER",
    name: "Men's Slim Casual Shirt",
    size: "38,40,41,42,43",
    price: "10900",
    strikedoffprice: "12000",
    ratin:1,
    popular:2,
    new:3
  },
  {
    image_url: "image/img12.webp",
    brand: "HIGHLANDER",
    name: "Men's Slim Casual Shirt",
    size: "38,40,41,42,43",
    price: "11100",
    strikedoffprice: "12300",
    ratin:1,
    popular:2,
    new:3
  },
  {
    image_url: "image/img13.webp",
    brand: "HIGHLANDER",
    name: "Men's Slim Casual Shirt",
    size: "38,40,41,42,43",
    price: "16800",
    strikedoffprice: "33000",
    ratin:1,
    popular:2,
    new:3
  },
  {
    image_url: "image/img14.webp",
    brand: "HIGHLANDER",
    name: "Men's Slim Casual Shirt",
    size: "38,40,41,42,43",
    price: "20000",
    strikedoffprice: "40000",
    ratin:1,
    popular:2,
    new:3
  },
  {
    image_url: "image/img15.webp",
    brand: "HIGHLANDER",
    name: "Men's Slim Casual Shirt",
    size: "38,40,41,42,43",
    price: "21000",
    strikedoffprice: "50000",
    ratin:1,
    popular:2,
    new:3
  },
  {
    image_url: "image/img16.webp",
    brand: "HIGHLANDER",
    name: "Men's Slim Casual Shirt",
    size: "38,40,41,42,43",
    price: "1220",
    strikedoffprice: "3600",
    ratin:1,
    popular:2,
    new:3
  },
  {
    image_url: "image/img17.webp",
    brand: "HIGHLANDER",
    name: "Men's Slim Casual Shirt",
    size: "38,40,41,42,43",
    price: "1800",
    strikedoffprice: "7200",
    ratin:1,
    popular:2,
    new:3
  },
  {
    image_url: "image/img18.webp",
    brand: "HIGHLANDER",
    name: "Men's Slim Casual Shirt",
    size: "38,40,41,42,43",
    price: "6300",
    strikedoffprice: "30000",
    ratin:1,
    popular:2,
    new:3
  },
  {
    image_url: "image/img19.webp",
    brand: "HIGHLANDER",
    name: "Men's Slim Casual Shirt",
    size: "38,40,41,42,43",
    price: "549",
    strikedoffprice: "2599",
    ratin:1,
    popular:2,
    new:3
  },
  {
    image_url: "image/img20.webp",
    brand: "SPYKAR",
    name: "SLIM FIT CASUAL",
    size: "38,40,41,42",
    price: "640",
    strikedoffprice: "2599",
    ratin:1,
    popular:2,
    new:3
  },
  {
    image_url: "image/img21.webp",
    brand: "SPYKAR",
    name: "SLIM FIT CASUAL",
    size: "38,40,41,42",
    price: "963",
    strikedoffprice: "2599",
    ratin:1,
    popular:2,
    new:3
  },
  {
    image_url: "image/img22.webp",
    brand: "SPYKAR",
    name: "SLIM FIT CASUAL",
    size: "38,41,42",
    price: "450",
    strikedoffprice: "2699",
    ratin:1,
    popular:2,
    new:3
  },
  {
    image_url: "image/img23.webp",
    brand: "SPYKAR",
    name: "SLIM FIT CASUAL",
    size: "38,40,41",
    price: "770",
    strikedoffprice: "3299",
    ratin:1,
    popular:2,
    new:3
  },
  {
    image_url: "image/img24.webp",
    brand: "SPYKAR",
    name: "SLIM FIT CASUAL",
    size: "38,40,41,42",
    price: "870",
    strikedoffprice: "4799",
    ratin:1,
    popular:2,
    new:3
  },
  {
    image_url: "image/img25.webp",
    brand: "SPYKAR",
    name: "SLIM FIT CASUAL",
    size: "40,41,42",
    price: "970",
    strikedoffprice: "9699",
    ratin:1,
    popular:2,
    new:3
  },
  {
    image_url: "image/img26.webp",
    brand: "SPYKAR",
    name: "SLIM FIT CASUAL",
    size: "38,40,41,42",
    price: "4100",
    strikedoffprice: "4200",
    ratin:1,
    popular:2,
    new:3
  },
  {
    image_url: "image/img27.webp",
    brand: "SPYKAR",
    name: "SLIM FIT CASUAL",
    size: "38,40,41,42",
    price: "5200",
    strikedoffprice: "5300",
    ratin:1,
    popular:2,
    new:3
  },
  {
    image_url: "image/img28.webp",
    brand: "SPYKAR",
    name: "SLIM FIT CASUAL",
    size: "38,40,41,42",
    price: "8880",
    strikedoffprice: "9999",
    ratin:1,
    popular:2,
    new:3
  },
  {
    image_url: "image/img29.webp",
    brand: "ColorPlus",
    name: "MEN'S CASUAL SHIRT",
    size: "38,40,41,42,43",
    price: "8562",
    strikedoffprice: "12000",
    ratin:1,
    popular:2,
    new:3
  },
  {
    image_url: "image/img30.webp",
    brand: "ColorPlus",
    name: "MEN'S CASUAL SHIRT",
    size: "38,40,41,42,43",
    price: "11000",
    strikedoffprice: "15000",
    ratin:1,
    popular:2,
    new:3
  },
  {
    image_url: "image/img31.webp",
    brand: "ColorPlus",
    name: "MEN'S CASUAL SHIRT",
    size: "38,40,41,42,43",
    price: "11800",
    strikedoffprice: "12599",
    ratin:1,
    popular:2,
    new:3
  },
  {
    image_url: "image/img32.webp",
    brand: "ColorPlus",
    name: "MEN'S CASUAL SHIRT",
    size: "38,40,41,42,43",
    price: "10170",
    strikedoffprice: "32599",
    ratin:1,
    popular:2,
    new:3
  },
  {
    image_url: "image/img33.webp",
    brand: "ColorPlus",
    name: "MEN'S CASUAL SHIRT",
    size: "38,40,41,42,43",
    price: "870",
    strikedoffprice: "2599",
    ratin:1,
    popular:2,
    new:3
  },
  {
    image_url: "image/img34.webp",
    brand: "ColorPlus",
    name: "MEN'S CASUAL SHIRT",
    size: "38,40,41,42,43",
    price: "9170",
    strikedoffprice: "32599",
    ratin:1,
    popular:2,
    new:3
  },
  {
    image_url: "image/img35.webp",
    brand: "Mufti",
    name: "MEN'S shirt",
    size: "38,40,41,42,43",
    price: "9170",
    strikedoffprice: "22599",
    ratin:1,
    popular:2,
    new:3
  },
  {
    image_url: "image/img36.webp",
    brand: "Mufti",
    name: "MEN'S shirt",
    size: "38,40,41,42,43",
    price: "11780",
    strikedoffprice: "23599",
    ratin:1,
    popular:2,
    new:3
  },
  {
    image_url: "image/img37.webp",
    brand: "Mufti",
    name: "MEN'S shirt",
    size: "38,40,42,43",
    price: "1602",
    strikedoffprice: "42599",
    ratin:1,
    popular:2,
    new:3
  },
  {
    image_url: "image/img38.webp",
    brand: "Mufti",
    name: "MEN'S shirt",
    size: "38,40,41,42,43",
    price: "1180",
    strikedoffprice: "2599",
    ratin:1,
    popular:2,
    new:3
  },
  {
    image_url: "image/img39.webp",
    brand: "Mufti",
    name: "MEN'S shirt",
    size: "38,40,41,42,43",
    price: "1650",
    strikedoffprice: "22599",
    ratin:1,
    popular:2,
    new:3
  },
  {
    image_url: "image/img40.webp",
    brand: "Mufti",
    name: "MEN'S shirt",
    size: "38,40,41,42,43",
    price: "11707",
    strikedoffprice: "25599",
    ratin:1,
    popular:2,
    new:3
  },
  {
    image_url: "image/img41.webp",
    brand: "WRONG",
    name: "MEN'S clothes",
    size: "38,40,41,42,43",
    price: "11670",
    strikedoffprice: "25599",
    ratin:1,
    popular:2,
    new:3
  },
  {
    image_url: "image/img42.webp",
    brand: "WRONG",
    name: "MEN'S clothes",
    size: "38,40,41,42,43",
    price: "2170",
    strikedoffprice: "22599",
    ratin:1,
    popular:2,
    new:3
  },
  {
    image_url: "image/img43.webp",
    brand: "WRONG",
    name: "MEN'S clothes",
    size: "38,40,41,42,43",
    price: "3170",
    strikedoffprice: "6599",
    ratin:1,
    popular:2,
    new:3
  },
  {
    image_url: "image/img44.webp",
    brand: "WRONG",
    name: "MEN'S clothes",
    size: "38,40,41,42,43",
    price: "4170",
    strikedoffprice: "9599",
    ratin:1,
    popular:2,
    new:3
  },
  {
    image_url: "image/img45.webp",
    brand: "WRONG",
    name: "MEN'S clothes",
    size: "38,40,41,42,43",
    price: "3170",
    strikedoffprice: "6599",
    ratin:1,
    popular:2,
    new:3
  },
  {
    image_url: "image/img46.webp",
    brand: "WRONG",
    name: "MEN'S clothes",
    size: "38,40,41,42,43",
    price: "6070",
    strikedoffprice: "8599",
    ratin:1,
    popular:2,
    new:3
  },
  {
    image_url: "image/img47.webp",
    brand: "Allen Soley",
    name: "Men's Casual slim fit Shirts",
    size: "38,40,41,42,43",
    price: "5170",
    strikedoffprice: "12599",
    ratin:1,
    popular:2,
    new:3
  },
  {
    image_url: "image/img48.webp",
    brand: "Allen Soley",
    name: "Men's Casual slim fit Shirts",
    size: "38,40,41,42,43",
    price: "1170",
    strikedoffprice: "2599",
    ratin:1,
    popular:2,
    new:3
  },
  {
    image_url: "image/img49.webp",
    brand: "Allen Soley",
    name: "Men's Casual slim fit Shirts",
    size: "38,40,41,42,43",
    price: "1170",
    strikedoffprice: "2599",
    ratin:1,
    popular:2,
    new:3
  },
  {
    image_url: "image/img50.webp",
    brand: "Allen Soley",
    name: "Men's Casual slim fit Shirts",
    size: "38,40,41,42,43",
    price: "1370",
    strikedoffprice: "2599",
    ratin:1,
    popular:2,
    new:3
  },
];

window.addEventListener("load", function () {
  displayData(mensData);
});

function sort() {
  var value = document.getElementById("chooseItem").value;
  if (value === "hlt") {
    mensData.sort(function (a, b) {
      return Number(b.price) - Number(a.price);
    });
  }
  if (value === "lth") {
    mensData.sort(function (a, b) {
      return Number(a.price) - Number(b.price);
    });
  }
  if (value === "discount") {
    mensData.sort(function (a, b) {
      a = Math.round(((a.strikedoffprice - a.price) / a.strikedoffprice) * 100);
      b = Math.round(((b.strikedoffprice - b.price) / b.strikedoffprice) * 100);
      return b - a;
    });
    }
    
  displayData(mensData);
  console.log(mensData);
}

function displayData(data) {
  document.getElementById("main-box").innerText = "";
  data.map(function (element, index) {
    var boxdiv = document.createElement("div");
    var img = document.createElement("img");
    var brand = document.createElement("p");
    var name = document.createElement("p");
    var Pricediv = document.createElement("div");
    var Dis_price = document.createElement("p");
    var Ori_price = document.createElement("p");
    var btn = document.createElement("button");
      var discount = document.createElement("p");
      var size = document.createElement("p");

    img.setAttribute("src", element.image_url);
    brand.innerText = element.brand;
    name.innerText = element.name;
    Dis_price.innerText = "â‚¹ " + Number(element.price);
    Ori_price.innerText = Number(element.strikedoffprice);
    var disPercetage = Math.round(
      ((element.strikedoffprice - element.price) / element.strikedoffprice) *
        100
    );
      discount.innerText = disPercetage + " % OFF";
      size.innerText = element.size;
    //   var cartLogo = document.createElement("img");
    //   cartLogo.setAttribute(
    //     "src",
    //     "https://cdn-icons-png.flaticon.com/512/891/891462.png"
    //   );
    //   var cartText = document.createElement("p");
    //   cartText.innerText = "Add to Cart";
    //   // btn.appendChild(cartLogo);
    //     btn.appendChild(cartText);

    btn.innerText = "Add to Cart";

    boxdiv.setAttribute("id", "sub-box");
    Pricediv.setAttribute("id", "price-box");
    btn.setAttribute("id", "btn");
    name.setAttribute("id", "name");
      brand.setAttribute("id", "brand");
      size.setAttribute("id", "size");

    btn.addEventListener("click", function () {
      //
      addToCart(index);
    });

    Pricediv.append(Dis_price, Ori_price, discount);
    boxdiv.append(img, btn,size, brand, name, Pricediv);
    document.getElementById("main-box").append(boxdiv);
  });
}

var McartArr = JSON.parse(localStorage.getItem("McartData")) || [];
function addToCart(i) {
  var product = mensData.filter(function (elem, index) {
    return index == i;
  });
  McartArr.push(product[0]);
  localStorage.setItem("McartData", JSON.stringify(McartArr));
}
